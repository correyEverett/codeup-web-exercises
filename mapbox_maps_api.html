<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>mapbox_maps_api</title>
    <!--MAPBOX-->
    <link rel="stylesheet" href="">
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
    <!--END-->
</head>
<body>

    <!--START MAPBOX CONTAINER-->
    <div id='map' style='width: 100%; height: 700px;'></div>
    <!--END MAPBOX CONTAINER-->

    <script src="js/keys.js"></script>
    <script src="js/mapbox-geocoder-utils.js"></script>
    <script>
        //MAPBOX API TOKEN
        mapboxgl.accessToken = mapboxToken;
        //END

        //START MAP CANVAS
        var mapOptions = ({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
        });

        var map = new mapboxgl.Map(mapOptions)
        //END MAP CANVAS

        // START GEOCODING
            geocode('San Antonio, Texas', mapboxToken).then(function(result) {
                console.log(result);
                map.setCenter(result);
                map.setZoom(10);
        });
        // END GEOCODING

        // START MARKERS
        var markerStyle = {
            color: '#FF0000'
        }

        var pappadeauxSeafoodKitchen = new mapboxgl.Marker(markerStyle)
            .setLngLat([-98.488000, 29.519570])
            .addTo(map);

        var bjsRestaurantsAndBrewhouse = new mapboxgl.Marker(markerStyle)
            .setLngLat([-98.707910, 29.490150])
            .addTo(map);

        var koiKawaSushi = new mapboxgl.Marker(markerStyle)
            .setLngLat([-98.465800, 29.463450])
            .addTo(map);

        // END MARKERS
        // START POPUPs
        var pappadeauxPopup = new mapboxgl.Popup()
            .setHTML('<h3>Pappadeaux Seafood Kitchen</h3>')
            .addTo(map);
        pappadeauxSeafoodKitchen.setPopup(pappadeauxPopup);

        var bjsPopup = new mapboxgl.Popup()
            .setHTML("<h3>BJ's Restaurant and Brewhouse</h3>")
            .addTo(map);
        bjsRestaurantsAndBrewhouse.setPopup(bjsPopup);

        var koikawaPopup = new mapboxgl.Popup()
            .setHTML('<h3>Koi Kawa Sushi</h3>')
            .addTo(map);
        koiKawaSushi.setPopup(koikawaPopup);
        // END POPUPs
        // START ARRAY
        var restaurants = [
            {
                name: "Pappadeaux Seafood Kitchen",
                cuisine: "Cajun/Louisiana style"
            },
            {
                name: "BJ's",
                cuisine: "Good Food"
            },
            {
                name: "Koi Kawa",
                cuisine: "Japanese"
            }
            ]

        // END ARRAY



    </script>
</body>
</html>
